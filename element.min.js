customElements.define("date-count",class extends HTMLElement{connectedCallback(){var e=(this.getAttribute("count")||"year,day,hour,minute,second").split(",").filter(e=>!this.hasAttribute("no"+e)),t=({create:e="div",id:t,append:n=[],...a})=>(this[t]=Object.assign(document.createElement(e),{id:t,part:t,...a}),this[t].append(...n),this[t]),n=(e,t,n)=>t+`:${this.getAttribute(e+"-"+t)||"var(--date-count-"+e+"-"+t+`,${n})`};`;this.attachShadow({mode:"open"}).append(t({create:"style",innerHTML:":host{display:inline-block;"+n("style","font","arial")+"}#event{"+n("event","color","#e3")+n("event","padding","0 2rem")+n("event","font-size","2.4rem")+n("event","text-align","center")+n("event","background","#fc0")+"}#count{display:grid;grid:1fr/repeat("+e.length+",1fr);"+n("count","color","#fff")+n("count","font-size","2.4rem")+n("count","text-align","center")+n("count","background","#080")+"}[part$='label']{"+n("label","padding","0 1rem")+n("label","font-size","1.4rem")+n("label","text-transform","uppercase")+"}"}),t({id:"event",append:[t({create:"slot",innerHTML:this.getAttribute("event")||"Y2K38 Epochalypse"})]}),t({id:"count",append:e.map(e=>t({id:e+"count",append:[t({id:e}),t({id:e+"label",innerHTML:new Intl.RelativeTimeFormat(this.getAttribute("format")||"en").formatToParts(2,e)[2].value})]}))}));var a=setInterval(()=>{var t,n=new Date,r=new Date(this.getAttribute("date")||2147483647e3),i=r<n&&([n,r]=[r,n]),l=r-n,o={year:~~(l/31536e6)},s=0;for(t=n.getFullYear();t<r.getFullYear();t++)(t%4==0&&t%100!=0||t%400==0)&&(i?s--:s++);o.day=~~((l-=31536e6*o.year)/864e5)+s,o.hour=~~((l-=864e5*(o.day-s))/36e5),o.minute=~~((l-=36e5*o.hour)/6e4),o.second=~~((l-=6e4*o.minute)/1e3),e.map(e=>(this.setAttribute(e,o[e]),this[e].innerHTML=o[e])).every(e=>!e)&&(clearInterval(a),this.dispatchEvent(new Event(this.id)))},1e3)}});