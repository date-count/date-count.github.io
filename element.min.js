customElements.define("date-count",class extends HTMLElement{connectedCallback(){var e=(this.getAttribute("count")||"year,day,hour,minute,second").split(",").filter(e=>!this.hasAttribute("no"+e)),t=({create:e="div",id:t,append:n=[],...a})=>(this[t]=Object.assign(document.createElement(e),{id:t,part:t,...a}),this[t].append(...n),this[t]),n=(e,t,n)=>t+`:${this.getAttribute(e+"-"+t)||"var(--date-count-"+e+"-"+t+`,${n})`};`;this.attachShadow({mode:"open"}).append(t({create:"style",innerHTML:":host{display:inline-block;"+n("style","font","arial")+"}#event{"+n("event","color","#e3")+n("event","padding","0 2rem")+n("event","font-size","2.4rem")+n("event","text-align","center")+n("event","background","#fc0")+"}#counts{display:grid;grid:1fr/repeat("+e.length+",1fr);"+n("counts","color","#fff")+n("counts","font-size","2.4rem")+n("counts","text-align","center")+n("counts","background","#080")+"}[part$='label']{"+n("label","padding","0 1rem")+n("label","font-size","1.4rem")+n("label","text-transform","uppercase")+"}"}),t({id:"event",append:[t({create:"slot",innerHTML:this.getAttribute("event")||"Y2K38 Epochalypse"})]}),t({id:"counts",append:e.map(e=>t({id:e+"part",append:[t({id:e}),t({id:e+"label",innerHTML:new Intl.RelativeTimeFormat(this.getAttribute("format")||"en").formatToParts(2,e)[2].value})]}))}));var a=setInterval(()=>{var t,n=new Date,r=new Date(this.getAttribute("date")||2147483647e3),i=r<n&&([n,r]=[r,n]),s=r-n,l={year:~~(s/31536e6)},o=0;for(t=n.getFullYear();t<r.getFullYear();t++)(t%4==0&&t%100!=0||t%400==0)&&(i?o--:o++);l.day=~~((s-=31536e6*l.year)/864e5)+o,l.hour=~~((s-=864e5*(l.day-o))/36e5),l.minute=~~((s-=36e5*l.hour)/6e4),l.second=~~((s-=6e4*l.minute)/1e3),e.map(e=>(this.setAttribute(e,l[e]),this[e].innerHTML=l[e])).every(e=>!e)&&(clearInterval(a),this.dispatchEvent(new Event(this.id)))},1e3)}});