customElements.define("date-count",class extends HTMLElement{connectedCallback(){var e="year,day,hour,minute,second".split(","),t=this.getAttribute("count")?.split(",")||e.filter((e=>!this.hasAttribute("no"+e))),n=t.map((e=>new Intl.RelativeTimeFormat(this.getAttribute("format")||"en").formatToParts(2,e)[2].value)),a=({create:e="div",id:t,append:n=[],...a})=>(this[t]=Object.assign(document.createElement(e),{id:t,part:t,...a}),this[t].append(...n),this[t]),i=(e,t,n)=>`${t}:${this.getAttribute(e+"-"+t)||`var(--date-count-${e}-${t},${n})`};`;this.attachShadow({mode:"open"}).append(a({create:"style",innerHTML:":host{display:inline-block;"+i("style","font","arial")+"}#event{"+i("event","color","#000")+i("event","padding","0 2rem")+i("event","font-size","2.4rem")+i("event","text-align","center")+i("event","background","#fc0")+"}#counts{display:grid;grid:1fr/repeat("+t.length+",1fr);"+i("counts","color","#fff")+i("counts","font-size","2.4rem")+i("counts","text-align","center")+i("counts","background","#080")+"}[part$='label']{"+i("label","padding","0 1rem")+i("label","font-size","1.4rem")+i("label","text-transform","uppercase")+"}"}),a({id:"event",append:[a({create:"slot",innerHTML:this.getAttribute("event")||"Y2K38 Epochalypse"})]}),a({id:"counts",append:t.map((e=>a({id:e+"part",append:[a({id:e}),a({id:e+"label",innerHTML:n[t.indexOf(e)]})]})))})),e=setInterval((()=>{var n,a=new Date,i=new Date(this.getAttribute("date")||"2038-1-19 3:14:7"),r=i<a&&([a,i]=[i,a]),s=i-a,l={year:~~(s/31536e6)},d=0;for(n=a.getFullYear();n<i.getFullYear();n++)(n%4==0&&n%100!=0||n%400==0)&&(r?d--:d++);l.day=~~((s-=31536e6*l.year)/864e5)+d,l.hour=~~((s-=864e5*(l.day-d))/36e5),l.minute=~~((s-=36e5*l.hour)/6e4),l.second=~~((s-=6e4*l.minute)/1e3),t.map((e=>(this.setAttribute(e,l[e]),this[e].innerHTML=l[e]))).every((e=>!e))&&(clearInterval(e),this.dispatchEvent(new Event(this.id)))}),1e3)}});