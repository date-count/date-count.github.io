customElements.define("date-count",class extends HTMLElement{connectedCallback(){var e=(this.getAttribute("count")||"year,day,hour,minute,second").split(",").filter(e=>!this.hasAttribute("no"+e)),t=({create:e="div",id:t,append:a=[],...n})=>(Object.assign(e=document.createElement(e),{id:t,part:t,...n}).append(...a),this[t]=e),a=(e,t,a)=>t+":"+(this.getAttribute(e+"-"+t)||"var(--date-count-"+e+"-"+t+","+a+")")+";";this.attachShadow({mode:"open"}).append(t({create:"style",innerHTML:":host{display:inline-block;}#event{"+a("event","color","#0")+a("event","padding","0 1rem")+a("event","font","2rem arial")+a("event","text-align","center")+a("event","background","#fc0")+"}#count{display:grid;grid:1fr/repeat("+e.length+",1fr);"+a("count","color","#fc0")+a("count","font","2rem arial")+a("count","text-align","center")+a("count","background","#080")+"}[part*='label']{"+a("label","padding","0 1rem")+a("label","font","1rem arial")+a("label","text-transform","uppercase")+"}"}),t({id:"event",append:[t({create:"slot",innerHTML:this.getAttribute("event")||"Y2K38 Epochalypse"})]}),t({id:"count",append:e.map(e=>t({id:e+"count",append:[t({id:e}),t({id:e+"label",innerHTML:new Intl.RelativeTimeFormat(this.getAttribute("format")||"en").formatToParts(2,e)[2].value})]}))}));var n=setInterval(()=>{var t=new Date,a=new Date(this.getAttribute("date")||2147483647e3);a<t&&([t,a]=[a,t]);for(var r=a-t,i={year:~~(r/31536e6)},l=0,o=t.getFullYear();o<a.getFullYear();o++)(o%4==0&&o%100!=0||o%400==0)&&(a<t?l--:l++);i.day=~~((r-=31536e6*i.year)/864e5)+l,i.hour=~~((r-=864e5*(i.day-l))/36e5),i.minute=~~((r-=36e5*i.hour)/6e4),i.second=~~((r-=6e4*i.minute)/1e3),e.map(e=>(this.setAttribute(e,i[e]),this[e].innerHTML=i[e])).every(e=>!e)&&(clearInterval(n),this.dispatchEvent(new Event(this.id)))},1e3)}});